import{o as l,c as n,a as t,x as g,z as b,t as o,F as m,r as v,D as V,b as f,d as p,e as z,E as h}from"./index-DO37WybI.js";const U={class:"space-y-6"},j={class:"flex space-x-2"},E={class:"px-3 py-2 bg-gray-100 rounded-r-lg text-gray-500"},M={class:"flex flex-wrap gap-2"},T=["onUpdate:modelValue"],A={class:"text-sm"},B={key:0,class:"p-4 bg-red-50 rounded-lg text-red-600"},D={key:1},F={class:"flex items-center justify-between mb-2"},R={class:"block text-sm font-medium text-gray-700"},Z={class:"space-y-2 max-h-48 overflow-y-auto"},L={class:"text-gray-500 text-sm mr-2"},N={class:"bg-yellow-100 px-2 py-1 rounded"},P={class:"text-xs text-gray-400"},$={key:2,class:"p-4 bg-gray-50 rounded-lg text-gray-500 text-center"},I={class:"border-t pt-4"},O={class:"grid grid-cols-2 md:grid-cols-3 gap-2"},S=["onClick"],G={__name:"RegexTester",setup(X){const r=p(""),x=p("g"),d=p(""),u=p(""),y=p([{value:"g",label:"全局",checked:!0},{value:"i",label:"忽略大小写",checked:!1},{value:"m",label:"多行",checked:!1},{value:"s",label:"包含换行",checked:!1}]),_=[{name:"邮箱",pattern:"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}"},{name:"手机号",pattern:"1[3-9]\\d{9}"},{name:"身份证号",pattern:"\\d{17}[\\dXx]"},{name:"URL",pattern:"https?://[\\w\\-]+(\\.[\\w\\-]+)+[/#?]?.*"},{name:"IP地址",pattern:"\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}"},{name:"日期",pattern:"\\d{4}[-/]\\d{1,2}[-/]\\d{1,2}"},{name:"中文字符",pattern:"[\\u4e00-\\u9fa5]+"},{name:"数字",pattern:"\\d+"},{name:"空白字符",pattern:"\\s+"}],k=()=>{x.value=y.value.filter(a=>a.checked).map(a=>a.value).join("")},c=z(()=>{if(!r.value||!d.value)return[];try{u.value="";const a=new RegExp(r.value,x.value),s=[];let e;if(x.value.includes("g"))for(;(e=a.exec(d.value))!==null&&(s.push({0:e[0],index:e.index}),e[0]!==""););else e=a.exec(d.value),e&&s.push({0:e[0],index:e.index});return s}catch(a){return u.value="正则表达式错误: "+a.message,[]}}),w=a=>{r.value=a.pattern,h.success(`已应用: ${a.name}`)},C=async()=>{if(c.value.length>0){const a=c.value.map(s=>s[0]).join(`
`);await navigator.clipboard.writeText(a),h.success("已复制匹配结果")}};return(a,s)=>(l(),n("div",U,[t("div",null,[s[3]||(s[3]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"正则表达式",-1)),t("div",j,[s[2]||(s[2]=t("span",{class:"px-3 py-2 bg-gray-100 rounded-l-lg text-gray-500"},"/",-1)),g(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>r.value=e),type:"text",class:"flex-1 px-4 py-2 border-y border-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"输入正则表达式"},null,512),[[b,r.value]]),t("span",E,"/"+o(x.value),1)])]),t("div",M,[s[4]||(s[4]=t("span",{class:"text-sm text-gray-500"},"修饰符:",-1)),(l(!0),n(m,null,v(y.value,e=>(l(),n("label",{key:e.value,class:"flex items-center space-x-1 cursor-pointer"},[g(t("input",{type:"checkbox","onUpdate:modelValue":i=>e.checked=i,class:"rounded text-blue-500",onChange:k},null,40,T),[[V,e.checked]]),t("span",A,o(e.value)+" ("+o(e.label)+")",1)]))),128))]),t("div",null,[s[5]||(s[5]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"测试文本",-1)),g(t("textarea",{"onUpdate:modelValue":s[1]||(s[1]=e=>d.value=e),rows:"5",class:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"输入要测试的文本..."},null,512),[[b,d.value]])]),u.value?(l(),n("div",B,o(u.value),1)):f("",!0),c.value.length>0?(l(),n("div",D,[t("div",F,[t("label",R,"匹配结果 ("+o(c.value.length)+"个)",1),t("button",{onClick:C,class:"px-3 py-1 bg-green-500 text-white text-sm rounded-lg hover:bg-green-600 transition-all"}," 复制匹配结果 ")]),t("div",Z,[(l(!0),n(m,null,v(c.value,(e,i)=>(l(),n("div",{key:i,class:"flex items-center justify-between p-2 bg-gray-50 rounded-lg"},[t("div",null,[t("span",L,"#"+o(i+1),1),t("code",N,o(e[0]),1)]),t("span",P,"位置: "+o(e.index),1)]))),128))])])):r.value&&d.value&&!u.value?(l(),n("div",$," 没有匹配结果 ")):f("",!0),t("div",I,[s[6]||(s[6]=t("h3",{class:"text-sm font-medium text-gray-700 mb-3"},"常用正则表达式",-1)),t("div",O,[(l(),n(m,null,v(_,e=>t("button",{key:e.name,onClick:i=>w(e),class:"px-3 py-2 bg-gray-100 text-gray-600 text-sm rounded-lg hover:bg-gray-200 transition-all text-left"},o(e.name),9,S)),64))])])]))}};export{G as default};
