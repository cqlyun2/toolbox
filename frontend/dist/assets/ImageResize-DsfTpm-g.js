import{l as w,o as c,c as m,a as t,v as x,F as I,r as L,n as P,t as o,x as y,z as k,b as U,d as n}from"./index-C98w5xzA.js";const V={class:"space-y-6"},B={key:0,class:"space-y-4"},F={class:"grid grid-cols-3 md:grid-cols-6 gap-2"},M=["onClick"],R={class:"font-medium"},j={class:"text-xs opacity-70"},N={class:"grid md:grid-cols-2 gap-4"},W={class:"grid md:grid-cols-2 gap-4"},$={class:"text-sm font-medium text-gray-700 mb-2"},E=["src"],G={class:"text-sm font-medium text-gray-700 mb-2"},O={__name:"ImageResize",setup(H){const b=[{label:"原图",width:0,height:0},{label:"头像",width:200,height:200},{label:"头像大",width:400,height:400},{label:"缩略图",width:150,height:150},{label:"手机壁纸",width:1080,height:1920},{label:"电脑壁纸",width:1920,height:1080},{label:"微信封面",width:900,height:383},{label:"公众号封面",width:900,height:500},{label:"小红书",width:1242,height:1660},{label:"抖音封面",width:1080,height:1920},{label:"淘宝主图",width:800,height:800},{label:"详情页",width:750,height:1e3}],r=n(""),d=n(null),s=n(800),i=n(600),g=n(0),h=n(0),v=n(null),_=l=>{const e=l.target.files[0];e&&p(e)},C=l=>{const e=l.dataTransfer.files[0];e&&e.type.startsWith("image/")&&p(e)},p=l=>{r.value=URL.createObjectURL(l);const e=new Image;e.onload=()=>{g.value=e.width,h.value=e.height,e.width/e.height,s.value=e.width,i.value=e.height,v.value=b[0],u()},e.src=r.value},z=l=>{v.value=l,l.width===0&&l.height===0?(s.value=g.value,i.value=h.value):(s.value=l.width,i.value=l.height),u()},u=()=>{if(!r.value||!d.value)return;const l=new Image;l.onload=()=>{d.value.width=s.value,d.value.height=i.value,d.value.getContext("2d").drawImage(l,0,0,s.value,i.value)},l.src=r.value};w(s,()=>u()),w(i,()=>u());const D=()=>{const l=document.createElement("a");l.href=d.value.toDataURL("image/png"),l.download="resized.png",l.click()};return(l,e)=>(c(),m("div",V,[t("div",{class:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-500 transition-all cursor-pointer",onClick:e[0]||(e[0]=a=>l.$refs.fileInput.click()),onDragover:e[1]||(e[1]=x(()=>{},["prevent"])),onDrop:x(C,["prevent"])},[t("input",{ref:"fileInput",type:"file",accept:"image/*",onChange:_,class:"hidden"},null,544),e[4]||(e[4]=t("svg",{class:"w-12 h-12 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),e[5]||(e[5]=t("p",{class:"text-gray-600"},"点击或拖拽上传图片",-1)),e[6]||(e[6]=t("p",{class:"text-sm text-gray-400 mt-1"},"支持 JPG, PNG, WebP 格式",-1))],32),r.value?(c(),m("div",B,[t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"选择尺寸",-1)),t("div",F,[(c(),m(I,null,L(b,a=>{var f;return t("button",{key:a.label,onClick:T=>z(a),class:P(["px-3 py-2 rounded-lg text-sm transition-all",((f=v.value)==null?void 0:f.label)===a.label?"bg-blue-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"])},[t("div",R,o(a.label),1),t("div",j,o(a.width)+"×"+o(a.height),1)],10,M)}),64))])]),t("div",N,[t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"宽度",-1)),y(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>s.value=a),type:"number",class:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[k,s.value,void 0,{number:!0}]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"高度",-1)),y(t("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>i.value=a),type:"number",class:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[k,i.value,void 0,{number:!0}]])])]),t("div",W,[t("div",null,[t("div",$,"原图 ("+o(g.value)+" × "+o(h.value)+")",1),t("img",{src:r.value,class:"w-full rounded-lg border"},null,8,E)]),t("div",null,[t("div",G,"调整后 ("+o(s.value)+" × "+o(i.value)+")",1),t("canvas",{ref_key:"canvas",ref:d,class:"w-full rounded-lg border bg-gray-50"},null,512)])]),t("div",{class:"flex justify-center"},[t("button",{onClick:D,class:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-all"}," 下载图片 ")])])):U("",!0)]))}};export{O as default};
