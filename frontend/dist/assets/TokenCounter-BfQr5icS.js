import{o as i,c as g,a as t,x as v,z as K,y as M,t as n,d as x,e as a,E as y}from"./index-C98w5xzA.js";const P={class:"space-y-6"},G={class:"flex items-center space-x-4"},z={class:"grid md:grid-cols-3 gap-4"},A={class:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white"},B={class:"text-4xl font-bold mt-2"},E={class:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6 text-white"},V={class:"text-4xl font-bold mt-2"},j={class:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-6 text-white"},D={class:"text-4xl font-bold mt-2"},F={class:"bg-gray-50 rounded-lg p-4"},S={class:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm"},U={class:"font-medium"},Z={class:"font-medium"},I={class:"font-medium"},N={class:"font-medium"},q={class:"bg-gray-50 rounded-lg p-4"},H={class:"text-sm text-gray-600 space-y-1"},J={key:0},L={key:1},O={key:2},Q={key:3},Y={__name:"TokenCounter",setup(R){const o=x(""),d=x("gpt4o"),b=a(()=>o.value.length),h=a(()=>{const s=o.value.match(/[\u4e00-\u9fa5]/g);return s?s.length:0}),f=a(()=>{const s=o.value.match(/[a-zA-Z]+/g);return s?s.length:0}),k=a(()=>{const s=o.value.match(/\d+/g);return s?s.length:0}),_=a(()=>{const s=o.value.match(/[，。！？、；：""''（）【】《》,.!?;:'"()\[\]{}]/g);return s?s.length:0}),m=a(()=>{if(!o.value)return 0;let s=0;const e=o.value,l=e.match(/[\u4e00-\u9fa5]/g);s+=l?l.length*1.5:0;const r=e.match(/[a-zA-Z]+/g);s+=r?r.reduce((c,p)=>c+Math.ceil(p.length/4),0):0;const u=e.match(/\d+/g);s+=u?u.reduce((c,p)=>c+Math.ceil(p.length/3),0):0;const w=e.length-((l==null?void 0:l.length)||0)-((r==null?void 0:r.join("").length)||0)-((u==null?void 0:u.join("").length)||0);return s+=Math.ceil(w/4),Math.round(s)}),T=a(()=>{const s={"gpt3.5":5e-4,gpt4:.03,gpt4o:.005,claude:.003},e=m.value/1e3*s[d.value];return e<.01?e.toFixed(6):e.toFixed(4)}),C=()=>{o.value=""},$=async()=>{try{const s=await navigator.clipboard.readText();o.value=s,y.success("已粘贴文本")}catch{y.error("无法读取剪贴板")}};return(s,e)=>(i(),g("div",P,[t("div",null,[e[2]||(e[2]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"输入文本",-1)),v(t("textarea",{"onUpdate:modelValue":e[0]||(e[0]=l=>o.value=l),rows:"8",class:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"粘贴或输入文本内容..."},null,512),[[K,o.value]])]),t("div",G,[e[4]||(e[4]=t("label",{class:"text-sm text-gray-600"},"模型选择：",-1)),v(t("select",{"onUpdate:modelValue":e[1]||(e[1]=l=>d.value=l),class:"px-4 py-2 border border-gray-200 rounded-lg"},[...e[3]||(e[3]=[t("option",{value:"gpt3.5"},"GPT-3.5",-1),t("option",{value:"gpt4"},"GPT-4",-1),t("option",{value:"gpt4o"},"GPT-4o",-1),t("option",{value:"claude"},"Claude",-1)])],512),[[M,d.value]])]),t("div",z,[t("div",A,[e[5]||(e[5]=t("div",{class:"text-sm opacity-80"},"Token 数量",-1)),t("div",B,n(m.value),1)]),t("div",E,[e[6]||(e[6]=t("div",{class:"text-sm opacity-80"},"字符数量",-1)),t("div",V,n(b.value),1)]),t("div",j,[e[7]||(e[7]=t("div",{class:"text-sm opacity-80"},"预计费用",-1)),t("div",D,"$"+n(T.value),1)])]),t("div",F,[e[12]||(e[12]=t("h3",{class:"text-sm font-medium text-gray-700 mb-3"},"详细统计",-1)),t("div",S,[t("div",null,[e[8]||(e[8]=t("span",{class:"text-gray-500"},"中文字符：",-1)),t("span",U,n(h.value),1)]),t("div",null,[e[9]||(e[9]=t("span",{class:"text-gray-500"},"英文单词：",-1)),t("span",Z,n(f.value),1)]),t("div",null,[e[10]||(e[10]=t("span",{class:"text-gray-500"},"数字：",-1)),t("span",I,n(k.value),1)]),t("div",null,[e[11]||(e[11]=t("span",{class:"text-gray-500"},"标点符号：",-1)),t("span",N,n(_.value),1)])])]),t("div",q,[e[14]||(e[14]=t("h3",{class:"text-sm font-medium text-gray-700 mb-3"},"费用说明",-1)),t("div",H,[d.value==="gpt3.5"?(i(),g("p",J,"GPT-3.5: 输入 $0.0005/1K tokens, 输出 $0.0015/1K tokens")):d.value==="gpt4"?(i(),g("p",L,"GPT-4: 输入 $0.03/1K tokens, 输出 $0.06/1K tokens")):d.value==="gpt4o"?(i(),g("p",O,"GPT-4o: 输入 $0.005/1K tokens, 输出 $0.015/1K tokens")):(i(),g("p",Q,"Claude: 输入 $0.003/1K tokens, 输出 $0.015/1K tokens")),e[13]||(e[13]=t("p",{class:"text-xs text-gray-400 mt-2"},"* Token估算是近似值，实际以API返回为准",-1))])]),t("div",{class:"flex space-x-3"},[t("button",{onClick:C,class:"px-4 py-2 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200"}," 清空 "),t("button",{onClick:$,class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"}," 粘贴文本 ")])]))}};export{Y as default};
