import{i as c,o as g,c as b,a as t,f as L,x as o,z as n,t as w,b as z,d as p,E as d,B as R}from"./index-C98w5xzA.js";const X={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},B={class:"space-y-4"},C=["disabled"],D={class:"min-h-[500px] p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600"},N={key:0,class:"whitespace-pre-wrap text-sm text-gray-800 dark:text-gray-200 font-serif leading-relaxed"},T={key:1,class:"h-full flex items-center justify-center text-gray-400"},j={key:0,class:"mt-4 flex gap-3"},G={__name:"NoticeGenerator",setup(E){const h=c("user"),y=c("showLogin"),r=p({title:"",organization:"",time:"",location:"",content:"",participants:"",deadline:"",contact:"",phone:""}),i=p(!1),s=p(""),x=p(!0),$=async()=>{var l,e,a,m,v,k;if(!r.value.title){d.warning("è¯·è¾“å…¥é€šçŸ¥æ ‡é¢˜");return}if(x.value){if(!h.value){y();return}i.value=!0;try{const u=await R.post("/api/ai/generate",{toolType:"notice-generator",formData:r.value});s.value=u.data.content,d.success("ç”ŸæˆæˆåŠŸï¼")}catch(u){(e=(l=u.response)==null?void 0:l.data)!=null&&e.needLogin?y():(v=(m=(a=u.response)==null?void 0:a.data)==null?void 0:m.error)!=null&&v.includes("æ¬¡æ•°")?(d.error(u.response.data.error),(k=c("showVip"))==null||k()):(d.error(u.message||"ç”Ÿæˆå¤±è´¥"),x.value=!1,f())}finally{i.value=!1}}else f()},f=()=>{if(!r.value.title){d.warning("è¯·è¾“å…¥é€šçŸ¥æ ‡é¢˜");return}i.value=!0,setTimeout(()=>{const l=r.value,e=new Date().toLocaleDateString("zh-CN");s.value=`${l.title}

${l.organization||"XXå…¬å¸å·¥ä¼šå§”å‘˜ä¼š"}ï¼š

ä¸º${l.content||"ä¸°å¯ŒèŒå·¥æ–‡åŒ–ç”Ÿæ´»ï¼Œæ´»è·ƒå·¥ä½œæ°”æ°›"},ç°å°†æœ‰å…³äº‹é¡¹é€šçŸ¥å¦‚ä¸‹ï¼š

ä¸€ã€æ´»åŠ¨æ—¶é—´
${l.time||"å¦è¡Œé€šçŸ¥"}

äºŒã€æ´»åŠ¨åœ°ç‚¹
${l.location||"å¦è¡Œé€šçŸ¥"}

ä¸‰ã€å‚ä¸å¯¹è±¡
${l.participants||"å…¨ä½“èŒå·¥"}

${l.content?`å››ã€ä¸»è¦å†…å®¹
${l.content}`:""}

${l.deadline?`äº”ã€æŠ¥åæˆªæ­¢æ—¶é—´
${l.deadline}`:""}

${l.contact||l.phone?`å…­ã€è”ç³»æ–¹å¼
è”ç³»äººï¼š${l.contact||"å¾…å®š"}
è”ç³»ç”µè¯ï¼š${l.phone||"å¾…å®š"}`:""}

${l.organization||"XXå…¬å¸å·¥ä¼šå§”å‘˜ä¼š"}
${e}
`,i.value=!1,d.success("ç”ŸæˆæˆåŠŸï¼")},500)},U=()=>{navigator.clipboard.writeText(s.value),d.success("å·²å¤åˆ¶åˆ°å‰ªè´´æ¿")},V=()=>{const l=new Blob([s.value],{type:"text/plain;charset=utf-8"}),e=URL.createObjectURL(l),a=document.createElement("a");a.href=e,a.download=`${r.value.title||"é€šçŸ¥"}.txt`,a.click(),URL.revokeObjectURL(e)};return(l,e)=>(g(),b("div",null,[t("div",X,[t("div",null,[e[18]||(e[18]=t("h3",{class:"font-medium text-gray-900 dark:text-white mb-4"},"å¡«å†™ä¿¡æ¯",-1)),t("div",B,[t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[L(" é€šçŸ¥æ ‡é¢˜ "),t("span",{class:"text-red-500"},"*")],-1)),o(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>r.value.title=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ä¾‹å¦‚ï¼šå…³äºä¸¾åŠäº”ä¸€åŠ³åŠ¨èŠ‚æ´»åŠ¨çš„é€šçŸ¥"},null,512),[[n,r.value.title]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," å‘å¸ƒå•ä½ ",-1)),o(t("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>r.value.organization=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ä¾‹å¦‚ï¼šXXå…¬å¸å·¥ä¼šå§”å‘˜ä¼š"},null,512),[[n,r.value.organization]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," æ´»åŠ¨æ—¶é—´ ",-1)),o(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>r.value.time=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ä¾‹å¦‚ï¼š2024å¹´5æœˆ1æ—¥ä¸Šåˆ9:00"},null,512),[[n,r.value.time]])]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," æ´»åŠ¨åœ°ç‚¹ ",-1)),o(t("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>r.value.location=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ä¾‹å¦‚ï¼šå…¬å¸èŒå·¥æ´»åŠ¨ä¸­å¿ƒ"},null,512),[[n,r.value.location]])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," é€šçŸ¥å†…å®¹ ",-1)),o(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=a=>r.value.content=a),rows:"4",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"è¯·è¾“å…¥é€šçŸ¥çš„ä¸»è¦å†…å®¹..."},null,512),[[n,r.value.content]])]),t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," å‚ä¸å¯¹è±¡ ",-1)),o(t("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>r.value.participants=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ä¾‹å¦‚ï¼šå…¨ä½“èŒå·¥"},null,512),[[n,r.value.participants]])]),t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," æŠ¥åæˆªæ­¢æ—¶é—´ ",-1)),o(t("input",{"onUpdate:modelValue":e[6]||(e[6]=a=>r.value.deadline=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ä¾‹å¦‚ï¼š2024å¹´4æœˆ25æ—¥"},null,512),[[n,r.value.deadline]])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," è”ç³»äºº ",-1)),o(t("input",{"onUpdate:modelValue":e[7]||(e[7]=a=>r.value.contact=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ä¾‹å¦‚ï¼šå¼ è€å¸ˆ"},null,512),[[n,r.value.contact]])]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," è”ç³»ç”µè¯ ",-1)),o(t("input",{"onUpdate:modelValue":e[8]||(e[8]=a=>r.value.phone=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ä¾‹å¦‚ï¼š12345678901"},null,512),[[n,r.value.phone]])]),t("button",{onClick:$,disabled:i.value||!r.value.title,class:"w-full py-3 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed"},w(i.value?"ç”Ÿæˆä¸­...":"ç”Ÿæˆé€šçŸ¥"),9,C)])]),t("div",null,[e[20]||(e[20]=t("h3",{class:"font-medium text-gray-900 dark:text-white mb-4"},"ç”Ÿæˆç»“æœ",-1)),t("div",D,[s.value?(g(),b("pre",N,w(s.value),1)):(g(),b("div",T,[...e[19]||(e[19]=[t("div",{class:"text-center"},[t("p",{class:"text-4xl mb-2"},"ğŸ“"),t("p",null,'å¡«å†™å®Œä¿¡æ¯åï¼Œç‚¹å‡»"ç”Ÿæˆé€šçŸ¥"æŒ‰é’®')],-1)])]))]),s.value?(g(),b("div",j,[t("button",{onClick:U,class:"flex-1 py-2 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600 transition-colors"}," å¤åˆ¶å†…å®¹ "),t("button",{onClick:V,class:"flex-1 py-2 bg-gray-500 text-white rounded-lg font-medium hover:bg-gray-600 transition-colors"}," ä¸‹è½½æ–‡ä»¶ ")])):z("",!0)])])]))}};export{G as default};
